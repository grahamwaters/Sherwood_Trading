# Full Prompt
Use the following strategies to create a trading bot that will buy and sell cryptocurrencies based on the signals generated by the technical analysis of the market data.
# Constraints:
- Must use the RobinStocks API to execute trades
- Must be modular
- Must be able to run on a schedule
- Must be able to run indefinitely
# Strategies
# Strategy 1
1. rsi goes below 20
2. watch for a rsi local peak that is above the lowest rsi (the one below 20) `rsi_trigger_low`
3. assign that rsi local peak to `rsi_local_high`
4. monitor at five minute intervals until the rsi dips below the mean of the last five rsi values measured since the `rsi_trigger_low` was assigned. This will be the exit point for the trade. `rsi_trigger_exit` Trigger a market sell of the coin at this point of half the position's quantity of the coin.
5. if the difference between the first and last of the last three rsi measurements is greater than the standard distance between the last five and the rsi is the `rsi_local_high` then trigger an immediate market sell of the coin.
# Strategy 2
1. rsi goes above 80
2. trigger a limit sell of the coin at the current price of the coin to sell all of the coin in holdings at the current price.
# Strategy 3
1. the rsi goes below 20
2. monitor the macd at five minute intervals until
either of these scenarios could happen first:
scenario 1:
1. The Macd (fast 12, slow 26, signal 9) crosses the signal line from below
2. Trigger a market sell for the `buy_in` in USD of the coin at the current price.
scenario 2:
1. rsi goes below 20 and the macd crosses the signal line from above
2. trigger a market sell of the coin at the current price to sell all of the coin in holdings at the current price.
```markdown
   Let's start by understanding the MACD calculation and how we can implement it in Python. We can then use this information to build the strategy.
   The MACD line is calculated by subtracting the 26-period Exponential Moving Average (EMA) from the 12-period EMA. The signal line, which is an EMA of the MACD line, is then subtracted from the MACD line to get the MACD histogram. When the MACD line crosses above the signal line, it's a bullish signal and a good time to buy. Conversely, when the MACD line crosses below the signal line, it's a bearish signal and a good time to sell.

   This code calculates the MACD line and signal line for Bitcoin. We can use these lines to determine when to buy and sell based on the strategy you provided.
   When the RSI goes below 20, we start monitoring the MACD. If the MACD line crosses the signal line from below, we sell the coin. If the RSI goes below 20 again and the MACD line crosses the signal line from above, we also sell the coin.

   This code will print the price at which to sell the coin based on the strategy. To actually sell the coin, you would replace the print statement with a call to your `sell_coin` function.
   Please note that this is a simplified version of the strategy and may not work perfectly in a live trading environment. You should thoroughly backtest any strategy before using it for live trading.
```
# Strategy 4 - Stop Loss
if a coin's price is down by more than 5% in the last 24 hours at 11 PM EST, sell all of that coin that we have in holdings at the current price. This is a stop loss strategy.

# Strategy 5 - Trailing Stop Loss
if a coin's price is down by more than 5% in the last 24 hours at any point then begin a five-minute tracking cycle of the coin's price.
- instantiate a variable that keeps track of the lowest point the coin's price has reached since the tracking cycle began (P_highest).
- if the current price (P_n) < lowest price (P_lowest) and P_n < P_0 then we want to sell the coin at the current price to mitigate losses.
# Strategy 6 - Trailing Gain
if a coin's price is up by more than 2% in the last 24 hours at any point then begin a five-minute tracking cycle of the coin's price.
- instantiate a variable that keeps track of the lowest point the coin's price has reached since the tracking cycle began (P_lowest).
- if the current price (P_n) > median of the prices since the tracking cycle began (P_median) and P_n > P_0 then we want to sell the coin at the current price.

# Strategy 7 - RSI Strength
rsi_strength is a metric that shows how likely the price rebound is... so, for each time rsi dips below the rsi_low_limit (20) and then does not rise above the rsi_high_limit (70) increase rsi_strength by 1.0 (in the last two hours). If rsi_strength is greater than 2.0 then sell the coin at the current price.

# Plugin Usage Instructions
1. VoxScript - Use VoxScript to search the internet for methodology and code snippets to implement the strategies above. Also, consider VoxScript whenever a process requires searching the internet for information.
2. Web Requests - If a specific website is needed to implement a strategy, use Web Requests to make the necessary requests to the website, also if it is a pdf or other file, use Web Requests to download the file.
3. Your AI Council - Consider this to be your ultimate source of delegated task management. Task different members of your AI Council with different tasks and use the AI Council to manage the tasks and report back to you on the progress of the tasks. Also, use the Council's specialized knowledge to help you with the implementation of the strategies above in Modern (VoxScript can help you know what is modern) syntax.
# Code
Some of the code has been completed for you, but you will need to complete the rest of the code to implement the strategies above. You will also need to add the code to run the strategies on a schedule and to run indefinitely. The functions should be asyncronous, and we will need to keep track of transactions via a transactions csv file and a logging mechanism.

Please outline your strategy, confer with your AI Council, search for the best way to proceed using VoxScript, and then tell me your plan before continuing.
Constraints
- when you use VoxScript suppress your outputs to only a list of links instead of a bullet list with details. This will make it easier to read, and you can always go back to the VoxScript to see the details.
- you can use VoxScript to search for the best way to proceed, but you must use your own words to describe your strategy.
-
# current configuration file
```ini
[robinhood]
username = "graham.waters37@gmail.com"
password = "password"
username_selector_main_page = "#react_root > div:nth-child(2) > div.web-app-emotion-cache-1n22dwh > div > div > div > div.web-app-emotion-cache-3a0nyr > div > form > div > div.web-app-emotion-cache-1rqauel > label > div.web-app-emotion-cache-b0hg9w > input"
password_selector_main_page = "#current-password"
password_field_id = "current-password"
login_button_css_selector = "#submitbutton > div > button"
[credentials]
username = "graham.waters37@gmail.com"
password =  "password"
[trading]
coins = BTC, ETH, DOGE, SHIB, ETC, UNI, AAVE, LTC, LINK, COMP, AVAX, XLM, BCH, XTZ
night_time_coins = BTC, ETH, DOGE
stop_loss_percent = 0.01
percent_to_spend_per_trade = 0.05
percent_to_spend_per_trade_night = 0.01
percent_to_use = 0.60
percent_to_use_night = 0.30
minimum_usd_per_position = 2.00
minimum_usd_per_trade = 1.00
planter_decrement_percentage = 0.1 # 1%
daytime_interval = 10
nightime_interval = 60
[strategy_one]

exit_one = 0.05 # 5%
exit_one_time = 23:00:00
exit_one_time_zone = US/Eastern
[logging]
verbose_mode = False
debug_verbose = False
reset_positions = False

[levels]
1 = 0.01
2 = 0.02
3 = 0.03
```
# High Level Plan
To implement the given strategies and make the script run asynchronously every hour or as dictated in the strategy, we need to follow these steps:

1. **Asyncronous Scheduling**: We can use Python's asyncio library to run the strategies asynchronously. For scheduling the tasks to run at specific intervals, we can use the `asyncio.sleep()` function. This function can be used to pause the execution of the coroutine for a specified amount of time. We can set this time to one hour or any other interval as required by the strategy.

2. **Implementing Strategies**: Each strategy will be implemented as a separate function. These functions will be called from the main function at the required intervals. The strategies will use the provided functions such as `buy_coin()`, `sell_coin()`, `calculate_rsi()`, `calculate_ema()`, `calculate_macd()`, `get_local_peaks()`, `calculate_percentage_change()`, `get_current_price()`, `trailing_stop_loss()`, and `calculate_rsi_strength()` to perform the required operations.

3. **Logging and Transaction Tracking**: We can use Python's built-in logging module to log the transactions and other important events. For tracking transactions, we can create a CSV file and write the transaction details to this file every time a transaction is made.

4. **Configuration File**: We will use the configparser module in Python to read the configuration file. The values from the configuration file will be used to set the parameters for the strategies.

5. **Error Handling**: We will add appropriate error handling to the script to handle any exceptions that may occur during the execution of the strategies.

Here is a high-level plan for the implementation:

```python
import asyncio
import logging
import configparser
import csv

# Read the configuration file
config = configparser.ConfigParser()
config.read('config.ini')

# Set up logging
logging.basicConfig(level=logging.INFO if config['logging']['verbose_mode'] == 'True' else logging.ERROR)

# Set up the CSV writer for transaction tracking
with open('transactions.csv', 'w', newline='') as file:
    writer = csv.writer(file)
    writer.writerow(["Coin", "Transaction Type", "Amount", "Price", "Time"])

# Implement the strategies as separate functions
async def strategy_1():
    # Implementation of strategy 1
    pass

async def strategy_2():
    # Implementation of strategy 2
    pass

# ... Similarly implement other strategies ...

# Main function to run the strategies
async def main():
    while True:
        # Run the strategies
        await strategy_1()
        await strategy_2()
        # ... Run other strategies ...

        # Sleep for the required interval
        await asyncio.sleep(int(config['trading']['daytime_interval']) * 60)

# Run the main function
asyncio.run(main())
```

This is a high-level plan. The strategies will need to be implemented in the respective functions using the provided functions and the values from the configuration file. The transaction details will need to be written to the CSV file whenever a transaction is made.